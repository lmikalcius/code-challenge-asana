!function(n){var a={};function o(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,n){"use strict";var a=r(n(1)),o=r(n(2)),i=r(n(3));function r(e){return e&&e.__esModule?e:{default:e}}var s=(0,a.default)("project");s&&(window.location="https://app.asana.com/-/oauth_authorize?client_id=579903436341269&redirect_uri=https://lmikalcius.github.io/code-challenge-asana/&response_type=token&state="+s);var c=(0,a.default)("state"),u=(0,a.default)("access_token"),d=new o.default(c,u),l=new i.default;d.fetchProjectName().then(function(e){l.populateHeaderTitle(e)}),d.fetchTasks().then(function(e){l.renderTasks(e,c),l.bindTaskVisibility(),l.bindCloseIcons()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=window.location.href.match("[&#?]"+e+"=([^&]+)");return t?t[1]:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,a;this.apiRootUrl="https://app.asana.com/api/1.0/projects/"+e,this.header=(n=t,(a=new Headers).append("Authorization","Bearer "+n),a),this.fetchProjectName=function(){return fetch(this.apiRootUrl,{method:"GET",headers:this.header}).then(function(e){return e.json()}).then(function(e){return e.data.name})},this.fetchTasks=function(){return fetch(this.apiRootUrl+"/tasks?limit=100",{method:"GET",headers:this.header}).then(function(e){return e.json()}).then(function(e){return e.data})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function n(){for(var e,t,n,a=document.querySelectorAll(".task"),o=0;o<a.length;++o)e=a[o],t=document.getElementById("tasks").getBoundingClientRect(),n=e.getBoundingClientRect(),t.height>n.top&&a[o].classList.add("task--inview")}this.populateHeaderTitle=function(e){document.getElementsByClassName("header__project-name")[0].innerHTML=e},this.renderTasks=function(e,i){var r=document.getElementById("tasks");e.forEach(function(e){var t=document.createElement("div");t.className+="task";var n="window.open('https://app.asana.com/0/"+i+"/"+e.id+"', '_blank')";t.setAttribute("onclick",n);var a=document.createElement("p");a.className+="task__title",a.innerHTML=e.name;var o=document.createElement("div");o.className+="task__hide",t.appendChild(a),t.appendChild(o),r.appendChild(t)})},this.bindTaskVisibility=function(){n(),window.onscroll=n},this.bindCloseIcons=function(){for(var e=document.getElementsByClassName("task__hide"),t=0;t<e.length;++t)e[t].onclick=function(){return this.parentNode.parentNode.removeChild(this.parentNode),n(),event.stopPropagation(),!1}}}}]);